{% extends 'layout.twig' %}

{% block content %}

{% include 'user-banner.twig' %}

<div class="row">
  <div class="col-sm-6">
    
    <div class="box box-primary">
      <div class="box-header">
        <h2 class="box-title">Active calendars</h2>
      </div>
      <div class="box-body table-responsive no-padding">
        <table class="table">
          <tr>
            <th>Device / Software</th>
            <th>Added</th>
            <th></th>
          </tr>
        {% for calendar in calendars if not calendar.revoked %}
          <tr>
            <td>{{ calendar.description }}</td>
            <td>{{ calendar.created | date('d/M/Y') }} ({{ calendar.created | time_diff }})</td>
            <td>
              <a class="btn btn-xs btn-danger" href="{{ path_for('user-calendar-revoke', {'id': calendar.id }) }}">Revoke</a>
            </td>
          </tr>
        {% else %}
        <li>You have no active calendars</li>
        {% endfor %}
        </table>
      </div>
    </div>

    <div class="box box-danger">
      <div class="box-header">
        <h2 class="box-title">Revoked calendars</h2>
      </div>
      <div class="box-body table-responsive no-padding">
        <table class="table">
          {% for calendar in calendars if calendar.revoked %}
          <tr>
            <td><del>{{ calendar.description }}</del></td>
            <td>Revoked on {{ calendar.created | date('d/M/Y') }}</td>
          </tr>
          {% else %}
          <tr>You have no revoked calendars</tr>
          {% endfor %}
        </table>
      </div>
    </div>
    
  </div>
  <div class="col-sm-6">
    <div class="box">
      <div class="box-footer">
        
      </div>
    </div>

  </div>
</div>

{% endblock %}

{% block javascript %}

{% endblock %}